
plugins {
	id 'com.gradle.plugin-publish' version '0.10.1'
}

apply from: 干.file('base/java8.gradle')
apply from: 干.file('base/gradle-plugin.gradle')
apply from: 干.file('spotless/java.gradle')

dependencies {
	implementation project(':spotless-changelog-lib')
	implementation 'com.diffplug.durian:durian-core:1.2.0'
	implementation 'com.diffplug.durian:durian-collect:1.2.0'
	implementation 'com.diffplug.durian:durian-io:1.2.0'
	testImplementation 'junit:junit:4.12'
	testImplementation 'org.assertj:assertj-core:3.14.0'
}

/////////////////////////////
// Gradle publishing setup //
/////////////////////////////
gradlePlugin {
	plugins {
		spotlessChangelog {
			id = 'com.diffplug.spotless-changelog'
			implementationClass = 'com.diffplug.spotless.changelog.gradle.ChangelogPlugin'
			displayName = 'Spotless Changelog'
			description = 'Enforces the keepachangelog format, and uses the changelog as the source-of-truth for the most recent version and for calculating and tagging the next released version.'
		}
	}
}
pluginBundle {
	tags = [
		'changelog',
		'keepachangelog',
		'version',
		'git',
	]
}
